import{a as E,_ as Z,b as J}from"./B6LH8quO.js";import{d as T,O as H,r as F,x as K,g as a,N as $,z as m,D as o,C as e,A as t,B as w,E as W,H as n,$ as X,_ as D,u as j,S as B,k as V,y as k,I as A,V as z,G as U,Y as Q,W as R,X as ee,J as Y,F as te,o as ne,a2 as oe,a3 as ae,a4 as se}from"./CThe8rmN.js";import{u as L}from"./CQW_vi0x.js";import{a as le}from"./DB3FtL0z.js";import{l as ie,r as C,u as O}from"./Cqk5BQ_7.js";import{E as ce}from"./C4IxTLi6.js";import{u as re}from"./BTM_bmsK.js";const ue={class:"d-flex flex-column ga-10 w-100"},de={class:"d-flex flex-column align-center ga-3"},pe={class:"font-bold text-center"},_e=T({__name:"AppLogin",setup(P){const c=H(),{onGetterDisplayLogin:g}=L(),b=F("Đăng nhập với Google"),l=async(p="google")=>{if(b.value!=="Đang đăng nhập...")try{const s=await ie();b.value="Đang đăng nhập...";let v={type:p,credential:s};C.value&&(v.ref=C.value),!v.ref&&c.query?.code&&(v.code=c.query.code),await E.login(v).then(()=>{const d=c.query.redirect;window.location.href=d||"/"})}catch(s){console.error(s)}};return K({script:[{async:!0,defer:!0,src:"https://accounts.google.com/gsi/client"}]}),(p,s)=>{const v=a("v-btn"),d=a("v-card-title"),i=a("v-img"),_=a("v-icon"),f=a("v-card-text"),h=a("v-card"),r=a("v-dialog");return m(),$(r,{modelValue:n(g),"onUpdate:modelValue":s[2]||(s[2]=u=>X(g)?g.value=u:null),scrollable:"","max-width":"500","max-height":"90%",transition:"dialog-bottom-transition"},{default:o(()=>[e(h,{rounded:"xl",style:{background:"linear-gradient(135deg, #ffe5ec, #e0f7fa)","padding-bottom":"10rem"}},{default:o(()=>[e(d,{class:"d-flex justify-space-between align-center pb-0"},{default:o(()=>[e(v,{icon:"mdi-close",variant:"tonal",class:"opacity-0",style:{cursor:"default"}}),e(v,{icon:"mdi-close",variant:"text",size:"44",onClick:s[0]||(s[0]=u=>g.value=!1)})]),_:1}),e(f,null,{default:o(()=>[t("div",ue,[t("div",de,[e(i,{class:"w-10rem",src:"/images/tn-solve-icon.png","lazy-src":"/images/tn-solve-icon.png"}),t("h2",pe,w(p.$t("Đăng nhập")),1)]),t("div",{class:"ripple-effect py-3 ga-2",onClick:s[1]||(s[1]=u=>l("google"))},[e(_,{size:"23"},{default:o(()=>[...s[3]||(s[3]=[W("mdi-google",-1)])]),_:1}),t("h3",null,w(p.$t(n(b))),1)])])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),me=D(_e,[["__scopeId","data-v-7c1afb72"]]),ge={class:"sticky top-0 right-0 left-0 w-100 py-2",style:{"z-index":"999","box-shadow":"rgba(0, 0, 0, 0.05) 0px 1px 2px 0px",background:"linear-gradient(90deg, rgb(211 233 255), rgb(211 233 255))"}},ve={class:"d-flex align-center justify-space-between ga-3"},fe={class:"d-flex align-center ga-4"},he={key:0},ye={key:1},be={class:"font-bold",style:{"font-size":"1.1rem"}},we={class:"d-flex align-center ga-4"},ke=T({__name:"AppHeader",setup(P){const c=j(),g=B(),{isMobile:b}=O(),{onGetterUserData:l,onGetterDisplayLogin:p,onActionSetSystemPopup:s}=L(),v=V(()=>{const i=[{title:"Tài khoản",value:"account",icon:"mdi-account-circle-outline"},{title:"Thư viện của tôi",value:"video",icon:"mdi-image-multiple-outline"},{title:"Cài đặt",value:"setting",icon:"mdi-cog-outline"},{title:"Đăng xuất",value:"logout",icon:"mdi-logout",size:21}];return l.value?.role===ce.ADMIN?i.splice(2,0,{title:"Trang quản trị",value:"admin",icon:"mdi-shield-account-outline"}):l.value?.role==="partner"&&i.splice(2,0,{title:"Cộng tác viên",value:"partner",icon:"mdi-account-multiple-outline"}),i}),d=i=>{if(i==="logout"){E.logout().then(()=>{window.location.href="/"});return}else if(i==="account"){s({type:"info",content:"Tính năng đang được phát triển!"});return}else c.push(g(`/${i}`))};return(i,_)=>{const f=a("v-img"),h=a("v-chip"),r=a("v-avatar"),u=a("v-list-item"),x=a("v-list"),I=a("v-divider"),S=a("v-icon"),q=a("v-card"),N=a("v-menu"),M=a("v-container");return m(),k(A,null,[e(me),t("div",ge,[e(M,{"max-width":"1400"},{default:o(()=>[t("div",ve,[t("div",null,[e(f,{src:"/images/tn-solve-logo.png","lazy-src":"/images/tn-solve-logo.png",class:z(`${n(b)?"w-6rem":"w-8rem"} h-3rem b-radius-1 cursor-pointer`),onClick:_[0]||(_[0]=y=>n(c).push(n(g)("/")))},null,8,["class"])]),t("div",fe,[n(l)?.name&&(n(l)?.settings?.testAmount!==null||n(l)?.serviceExpiry)?(m(),$(h,{key:0,variant:"tonal",class:"font-bold",color:n(l)?.remainingTime?"green":n(l)?.settings?.testAmount?"primary":"red",size:n(b)?"small":"default"},{default:o(()=>[n(l)?.serviceExpiry?(m(),k("span",he,w(n(l)?.remainingTime?`${i.$t("Còn")} ${n(l)?.remainingTime}`:i.$t("Đã hết hạn")),1)):(m(),k("span",ye," Còn "+w(n(l)?.settings.testAmount)+" lượt dùng thử ",1))]),_:1},8,["color","size"])):U("",!0),Object.values(n(l)||{})?.length?(m(),$(N,{key:1,location:"bottom right"},{activator:o(({props:y})=>[e(r,ee(y,{size:"44",class:"cursor-pointer"}),{default:o(()=>[e(f,{loading:"lazy",src:n(l).avatar||"/images/avatar-default.jpg"},{placeholder:o(()=>[e(f,{src:" /images/avatar-default.jpg"})]),_:1},8,["src"])]),_:1},16)]),default:o(()=>[e(q,{"min-width":"200"},{default:o(()=>[e(x,{onClick:_[1]||(_[1]=Q(()=>{},["stop"]))},{default:o(()=>[e(u,null,{title:o(()=>[t("h3",be,w(n(l).name),1)]),_:1})]),_:1}),e(I),e(x,null,{default:o(()=>[(m(!0),k(A,null,R(n(v),(y,G)=>(m(),$(u,{key:G,value:y.value,onClick:Me=>d(y.value)},{default:o(()=>[t("div",we,[e(S,{icon:y.icon,size:y.size,color:`${y.value==="logout"?"red":""}`},null,8,["icon","size","color"]),t("label",{class:z(["cursor-pointer",{"text-red":y.value==="logout"}])},w(i.$t(y.title)),3)])]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})]),_:1})):(m(),k("div",{key:2,class:"cta-button cursor-pointer",onClick:_[2]||(_[2]=y=>p.value=!0)},[t("h3",null,w(i.$t("Đăng nhập")),1)]))])])]),_:1})])],64)}}}),xe=D(ke,[["__scopeId","data-v-8b190780"]]),$e=Y("/images/icon-tiktok.png"),Ce=Y("/images/icon-youtube.png"),Ae={style:{"background-color":"#ddd","padding-top":"2.4rem","margin-top":"3rem"}},ze={class:"tagline mt-2"},Te={class:"footer-section footer-links"},De=["onClick"],Le={class:"footer-section footer-links"},Pe=["onClick"],Ie={class:"footer-bottom"},Se=T({__name:"AppFooter",setup(P){const c=j(),g=B(),b=new Date().getFullYear(),l=p=>{if(p)p==="contact"?window.open("https://zalo.me/0343027232","_blank"):p==="zalo-group"?window.open("https://zalo.me/g/tuhmrl934","_blank"):c.push(g(`/${p}`));else{L().onActionSetSystemPopup({type:"info",content:"Tính năng đang được phát triển!"});return}};return(p,s)=>{const v=a("v-img"),d=a("v-col"),i=a("v-row"),_=a("v-container");return m(),k("footer",Ae,[e(_,{"max-width":"1400"},{default:o(()=>[e(i,null,{default:o(()=>[e(d,{cols:"12",lg:"6"},{default:o(()=>[t("div",null,[e(v,{src:"/images/tn-solve-icon.png","lazy-src":"/images/tn-solve-logo.png",class:z("w-10rem  b-radius-1")})]),t("p",ze,w(p.$t("Nền tảng AI giúp bạn tạo video chuyên nghiệp chỉ trong vài phút")),1)]),_:1}),e(d,{cols:"12",lg:"6"},{default:o(()=>[e(i,null,{default:o(()=>[e(d,{cols:"6",lg:"4"},{default:o(()=>[t("div",Te,[s[0]||(s[0]=t("h4",null,"Sản phẩm",-1)),t("nav",null,[(m(),k(A,null,R([{title:"Tính năng",value:"features"},{title:"Hướng dẫn",value:"tutorial"},{title:"Đăng ký gói dịch vụ",value:"pricing"}],(f,h)=>t("a",{key:h,class:"cursor-pointer",onClick:r=>l(f.value)},w(f.title),9,De)),64))])])]),_:1}),e(d,{cols:"6",lg:"4"},{default:o(()=>[t("div",Le,[s[1]||(s[1]=t("h4",null,"Tài nguyên",-1)),t("nav",null,[(m(),k(A,null,R([{title:"Liên hệ Zalo",value:"contact"},{title:"Tham gia nhóm Zalo",value:"zalo-group"},{title:"Chính sách",value:"terms"}],(f,h)=>t("a",{key:h,class:"cursor-pointer",onClick:r=>l(f.value)},w(f.title),9,Pe)),64))])])]),_:1}),e(d,{cols:"6",lg:"4"},{default:o(()=>[...s[2]||(s[2]=[t("div",{class:"footer-section footer-links"},[t("h4",null,"Kết nối"),t("nav",null,[t("a",{target:"_blank",href:"https://www.tiktok.com/@tiencodeweb",class:"d-flex align-center ga-2"},[t("img",{src:$e,style:{width:"1.3rem"}}),t("span",{style:{"margin-bottom":"2.6px"}},"@tiencodeweb")]),t("a",{target:"_blank",href:"https://www.youtube.com/@tiencodeweb",class:"d-flex align-center ga-2"},[t("img",{src:Ce,style:{width:"1.3rem"}}),t("span",{style:{"margin-bottom":"2.6px"}},"@tiencodeweb")])])],-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",Ie,[t("span",null," © "+w(n(b))+" TN Solve. Cảm ơn bạn đã tin tưởng và sử dụng dịch vụ của chúng tôi. ",1)])]),_:1})])}}}),qe=D(Se,[["__scopeId","data-v-e0961aad"]]),Ne=T({__name:"default",setup(P){const c=H(),g=j(),b=B(),{t:l}=te(),{isMobile:p}=O(),{onActionGetUserData:s,onGetterDisplayLogin:v}=L(),{onActionAllMasterDataClient:d}=re(),i=F(!0),_=V(()=>c.path.split("/").filter(x=>x).slice(1)),f=r=>{switch(r){case"create":return"Tạo video";case"video":return"Thư viện của tôi";case"setting":return"Cài đặt";case"terms":return"Chính sách";case"pricing":return"Đăng ký gói dịch vụ";case"tutorial":return"Hướng dẫn";case"features":return"Tính năng";default:return"Chi tiết"}},h=V(()=>[{title:l("Trang chủ"),disabled:!1,href:"/"},..._.value.map((r,u)=>({title:l(f(r)),disabled:u===_.value.length-1,href:`/${_.value.slice(0,u+1).join("/")}`}))]);return ne(async()=>{try{let r={};if(c.query?.ref&&typeof c.query?.ref=="string"){const u=await le.checkPartner({accountId:c.query?.ref});u?.data?._id&&(C.value=u?.data?._id,g.replace("/"))}C.value&&(r.ref=C.value),!r.ref&&c.query?.code&&(r.code=c.query.code),await s(r).then(async()=>{const u=c.query.redirect;u&&g.replace(u),await Promise.all([d({type:"model-video"}),d({type:"frame-rate"}),d({type:"video-mode"}),d({type:"video-style"}),d({type:"video-duration"})])}).catch(()=>{c.meta?.middleware==="auth"&&(v.value=!0,g.replace(b(`/?redirect=${c.fullPath}`)))})}catch(r){console.error(r)}finally{setTimeout(()=>{i.value=!1},300)}}),(r,u)=>{const x=Z,I=J,S=a("v-icon"),q=a("v-breadcrumbs"),N=se,M=a("v-container"),y=a("v-main"),G=a("v-app");return m(),k(A,null,[n(i)||!n(h)||!n(h).length?(m(),$(x,{key:0})):U("",!0),e(G,null,{default:o(()=>[e(I),e(xe),e(y,null,{default:o(()=>[e(M,{"max-width":"1400",class:"mt-4"},{default:o(()=>[t("div",{class:z({"mx-4":n(p)})},[oe(e(q,{items:n(h),class:"mb-6"},{prepend:o(()=>[e(S,{icon:"mdi-home-outline"})]),_:1},8,["items"]),[[ae,![`${n(b)("/")}`].includes(n(c).path)&&n(h)&&n(h).length]]),e(N)],2)]),_:1})]),_:1}),e(qe)]),_:1})],64)}}}),Fe=D(Ne,[["__scopeId","data-v-c043ff9a"]]);export{Fe as default};
