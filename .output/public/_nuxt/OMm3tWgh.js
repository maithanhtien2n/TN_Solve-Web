import{f as k,g as M}from"./BrZZEpxw.js";import{c as G}from"./nvZ7vHZN.js";import{E as C}from"./C4IxTLi6.js";import{d as P,u as $,S as H,k as L,N as v,D as t,g as l,z as p,C as e,G as j,A as o,E as d,B as u,H as n,y as w,W as B,I as D,V as q,Z as F}from"./CThe8rmN.js";import{u as U}from"./CQW_vi0x.js";import{u as W}from"./BTM_bmsK.js";const Z={class:"d-flex align-center mb-1"},J={class:"text-h3 font-bold mt-4"},K={class:"d-flex align-center mb-1"},O={class:"text-h4 font-bold text-grey-darken-4 mt-4"},Q={class:"d-flex align-center"},X={class:"text-h5 font-bold text-grey-darken-4"},Y={class:"d-flex align-center"},tt={class:"text-h5 font-bold text-grey-darken-4"},et={class:"text-caption text-grey-darken-1"},at={class:"font-bold text-blue-darken-1 text-subtitle-1"},ot={class:"text-caption text-medium-emphasis"},nt={class:"text-white font-bold"},ft=P({__name:"index",setup(st){const A=$(),R=H(),{onGetterUserData:x}=U(),{onGetterMasterData:N}=W(),i=L(()=>N.value.dashboard),S=s=>{x.value?.role===C.ADMIN&&(s&&A.push(R(`/partner?id=${s}`)),window.location.reload())};return(s,a)=>{const m=l("v-icon"),f=l("v-card-text"),_=l("v-card"),c=l("v-col"),g=l("v-row"),y=l("v-card-title"),b=l("v-card-subtitle"),T=l("v-sheet"),V=l("v-avatar"),z=l("v-list-item"),E=l("v-list"),I=l("v-container");return p(),v(I,{class:"ma-0 pa-0"},{default:t(()=>[e(g,{dense:""},{default:t(()=>[e(c,{cols:"12",lg:"5"},{default:t(()=>[e(_,{variant:"flat",color:"primary",class:"text-white",height:"100%"},{default:t(()=>[e(f,null,{default:t(()=>[o("div",Z,[e(m,{size:"x-large",class:"opacity-75 mr-3"},{default:t(()=>[...a[0]||(a[0]=[d("mdi-cash-clock",-1)])]),_:1}),a[1]||(a[1]=o("div",{class:"text-h6 font-bold"},"Số dư chờ thanh toán",-1))]),o("div",J,u(("formatCurrency"in s?s.formatCurrency:n(k))(n(i).pendingBalance)),1),a[2]||(a[2]=o("div",{class:"text-body-2 opacity-80 mt-1"}," Sẽ được thanh toán vào kỳ tới ",-1))]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"6",lg:"3"},{default:t(()=>[e(_,{variant:"tonal",color:"green-darken-1",height:"100%"},{default:t(()=>[e(f,null,{default:t(()=>[o("div",K,[e(m,{size:"large",class:"mr-3"},{default:t(()=>[...a[3]||(a[3]=[d("mdi-check-decagram",-1)])]),_:1}),a[4]||(a[4]=o("div",{class:"text-subtitle-1 font-bold text-grey-darken-3"}," Tổng đã thanh toán ",-1))]),o("div",O,u(("formatCurrency"in s?s.formatCurrency:n(k))(n(i).paidBalance)),1)]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",md:"6",lg:"4"},{default:t(()=>[e(g,{dense:""},{default:t(()=>[e(c,{cols:"12"},{default:t(()=>[e(_,{variant:"tonal",color:"purple-darken-1"},{default:t(()=>[e(f,null,{default:t(()=>[o("div",Q,[e(m,{size:"large",class:"mr-3"},{default:t(()=>[...a[5]||(a[5]=[d("mdi-account-group",-1)])]),_:1}),o("div",null,[a[6]||(a[6]=o("div",{class:"text-body-2 text-grey-darken-2"}," Tổng người đã giới thiệu đã thuê ",-1)),o("div",X,u(n(i).totalReferrals),1)])])]),_:1})]),_:1})]),_:1}),e(c,{cols:"12"},{default:t(()=>[e(_,{variant:"tonal",color:"amber-darken-1"},{default:t(()=>[e(f,null,{default:t(()=>[o("div",Y,[e(m,{size:"large",class:"mr-3"},{default:t(()=>[...a[7]||(a[7]=[d("mdi-star-circle",-1)])]),_:1}),o("div",null,[a[8]||(a[8]=o("div",{class:"text-body-2 text-grey-darken-2"}," Bậc tháng này ",-1)),o("div",tt,u(n(i).estimatedRate),1)])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(c,{cols:"12",class:"mt-4"},{default:t(()=>[e(_,{variant:"outlined"},{default:t(()=>[e(y,{class:"text-h6"},{default:t(()=>[...a[9]||(a[9]=[d("Các bậc hoa hồng",-1)])]),_:1}),e(b,{class:"text-wrap"},{default:t(()=>[...a[10]||(a[10]=[d(" Hoa hồng vĩnh viễn được chốt cuối tháng dựa trên số giới thiệu mới. ",-1)])]),_:1}),e(f,null,{default:t(()=>[e(g,{dense:""},{default:t(()=>[(p(!0),w(D,null,B("commissionTier"in s?s.commissionTier:n(G),r=>(p(),v(c,{key:r.name,cols:"12",sm:"3"},{default:t(()=>[e(T,{height:"100%",variant:"tonal",class:"pa-3 rounded-lg d-flex flex-column justify-center align-center"},{default:t(()=>[o("div",et,u(r.name),1),o("div",at,u(r.rate),1),o("div",ot," ("+u(r.requirement)+") ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),Array.isArray(n(i).leaderboard)&&n(i).leaderboard?.length?(p(),v(c,{key:0,cols:"12",class:"mt-4"},{default:t(()=>[e(_,{variant:"outlined"},{default:t(()=>[e(y,{class:"text-h6"},{default:t(()=>[e(m,{color:"amber-darken-1",class:"mr-2"},{default:t(()=>[...a[11]||(a[11]=[d("mdi-trophy",-1)])]),_:1}),a[12]||(a[12]=d(" Bảng xếp hạng CTV của tháng ",-1))]),_:1}),e(b,{class:"text-wrap"},{default:t(()=>[...a[13]||(a[13]=[d(" Bảng xếp hạng được cập nhật dựa trên số giới thiệu (đã thuê) mới trong tháng này. ",-1)])]),_:1}),e(f,{class:"ma-0 px-0 pt-0"},{default:t(()=>[e(E,{lines:"one","max-width":"400"},{default:t(()=>[(p(!0),w(D,null,B(n(i).leaderboard,(r,h)=>(p(),v(z,{class:q(["mt-3 py-2",{"bg-grey-lighten-2":n(i)?.accountId&&r?._id===n(i)?.accountId,"cursor-pointer":n(x)?.role===("EnumAccountRole"in s?s.EnumAccountRole:n(C)).ADMIN}]),key:r.id,title:r.name,subtitle:`${r.count} lượt giới thiệu`,onClick:lt=>S(r._id)},F({prepend:t(()=>[e(V,{color:("getRankColor"in s?s.getRankColor:n(M))(h+1)},{default:t(()=>[o("span",nt,u(h+1),1)]),_:2},1032,["color"])]),_:2},[h===0?{name:"append",fn:t(()=>[e(m,{color:"amber-darken-2"},{default:t(()=>[...a[14]||(a[14]=[d("mdi-crown",-1)])]),_:1})]),key:"0"}:void 0]),1032,["title","class","subtitle","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})):j("",!0)]),_:1})]),_:1})}}});export{ft as default};
